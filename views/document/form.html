<div class="container-fluid">
    <div id="failedBox" class="hide"></div>

    <div class="panel panel-default">

        <!-- 【新增·Tab选择器】 -->
        <div style="text-align: center; height: 30px; margin-bottom: 5px; border-bottom: 1px solid #eee;">
            <div id="tabNew" class="tabView tabActive" style="width: 50%;  border-right: 1px solid #ccc;" onclick="Form.clickTab(0)">
                新  建
            </div>
            <div id="tabUpload" class="tabView" style="width: 48%;" onclick="Form.clickTab(1)">
                上传文件
            </div>
        </div>

        <!-- 【修改·部分样式】 -->
        <div id="tabPanelNew" class="panel-body" style="padding: 30px 15px;">
            <br>{{$parentDocuments := .parent_documents}}{{$spaceId := .space_id}}{{$parentId := .parent_id}}
            <form class="form-horizontal" method="post" action="/document/save" onsubmit="return false">
                <input type="hidden" name="parent_id" value="{{$parentId}}">
                <input type="hidden" name="space_id" value="{{$spaceId}}">
                <div class="form-group" style="margin-bottom: 35px">
                    <label class="col-sm-2 control-label"><span class="text-danger"> * </span> 父文档</label>
                    <div class="col-sm-6 form-comment">
                        <span class="control-label">
                            {{range $parentDocument := $parentDocuments}}
                                {{if eq $parentDocument.parent_id "0"}}
                                    <strong><a href="/document/index?document_id={{$parentDocument.document_id}}" target="_parent">{{$parentDocument.name}}</a></strong>
                                {{else}}
                                    <strong> / <a href="/document/index?document_id={{$parentDocument.document_id}}" target="_parent">{{$parentDocument.name}}</a></strong>
                                {{end}}
                            {{end}}
                        </span>
                    </div>
                </div>
                <div class="form-group" style="margin-bottom: 35px">
                    <label class="col-sm-2 control-label"><span class="text-danger"> * </span>类型</label>
                    <div class="col-sm-5">
                        <div class="radio radio-inline radio-primary">
                            <input type="radio" name="type" id="radio-menu" value="1" checked="checked">
                            <label for="radio-menu"><i class="fa fa-file fa-fw"></i>页面</label>
                        </div>
                        <div class="radio radio-inline radio-primary">
                            <input type="radio" name="type" id="radio-controller" value="2">
                            <label for="radio-controller"><i class="fa fa-folder fa-fw"></i>目录</label>
                        </div>
                    </div>
                </div>
                <div class="form-group" style="margin-bottom: 35px">
                    <label class="col-sm-2 control-label"><span class="text-danger"> * </span> 名称</label>
                    <div class="col-sm-5">
                        <input type="text" name="name" class="form-control" placeholder="请输入文档名称" value="">
                    </div>
                    <div class="col-sm-4 form-comment">
                        <span class="text-danger"> * 不能包含 \ / : * ? " < > | 、非法字符</span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="button" onclick="Form.ajaxSubmit(this.form, true);" class="btn btn-primary">保存</button>
                    </div>
                </div>
            </form>
        </div>
        
        <!-- 上传文件界面 -->
        <div id="tabPanelUpload" class="panel-body" style="display: none; ">
            <form enctype="multipart/form-data" class="form-horizontal" method="post" action="">
                <!-- <input type="hidden" name="parent_id" value="{{$parentId}}">
                <input type="hidden" name="space_id" value="{{$spaceId}}"> -->
                <div style="min-height: 200px;">
                    <div class="form-group">
                        <div class="file-loading">
                            <input id="fileUploads" name="files" type="file" multiple data-min-file-count="1" 
                            data-preview-file-type="any" data-upload-url="/document/upload" data-theme="fas">
                        </div>
                    </div>
                </div>
            </form>
        </div>

    </div>
</div>

<!-- class="file" -->
<script type="text/javascript" src="/static/js/modules/docEx.js"></script>