
/**
 * 弹出消息提示框，采用浏览器布局，位于整个页面中央，默认显示3秒
 * 后面的消息会覆盖原来的消息
 * @param message：待显示的消息
 * @param type：消息类型，0：错误消息，1：成功消息
 */
 function ShowMessage(message, type) {
    let messageJQ= $("<div class='showMessage'>" + message + "</div>");
    if (type == 0) {
        messageJQ.addClass("showMessageError");
    } else if (type == 1) {
        messageJQ.addClass("showMessageSuccess");
    }
    // 先将原始隐藏，然后添加到页面，最后以400毫秒的速度下拉显示出来
    messageJQ.hide().appendTo("body").slideDown(400);
    // 4秒之后自动删除生成的元素
    window.setTimeout(function() {
        messageJQ.show().slideUp(400, function() {
            messageJQ.remove();
        })
    }, 4000);
}

// 根据URL下载文件
function DownloadFile(url, name) {
    if (name == undefined) {
        var ps = url.split(/[/\\]/);
        name = ps[ps.length - 1];
    }
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, true); //get请求，请求地址，是否异步
    xhr.responseType = "blob";  // 返回类型blob
    xhr.onload = function () {  // 请求完成处理函数
        if (this.status === 200) {
            var blob = this.response;   // 获取返回值
            var a = document.createElement('a');
            a.download = name;
            a.href=window.URL.createObjectURL(blob);
            a.click();
        }
    };
    // 发送ajax请求
    xhr.send();
}


var FileIconConf = {	
    "png":   "image",
    "jpg":   "image",
    "bmp":   "image",
    "svg":   "image",
    "ico":   "image",
    "gif":   "image",
    "tif":   "image",
    "iif":   "image",
    "pcd":   "image",
    "apng":  "image",
    "jpeg":  "image",
    "webp":  "image",
    "doc":   "word",
    "ppt":   "ppt",
    "xls":   "excel",
    "docx":  "word",
    "pptx":  "ppt",
    "xlsx":  "excel",
    "pdf":   "pdf",
    "zip":   "pkg",
    "tar":   "pkg",
    "gz":    "pkg",
    "rar":   "pkg",
    "7z":    "pkg",
    "tgz":   "pkg",
    "rar4":  "pkg",
    "mp4":   "video",
    "3gp":   "video",
    "avi":   "video",
    "wmv":   "video",
    "ogv":   "video",
    "flv":   "video",
    "mgp":   "video",
    "mkv":   "video",
    "mov":   "video",
    "m4v":   "video",
    "awf":   "video",
    "asx":   "video",
    "webm":  "video",
    "rmvb":  "video",
    "rm":    "video",
    "htm":   "html",
    "html":  "html",
    "java":  "code",
    "c":     "code",
    "h":     "code",
    "cc":    "code",
    "cpp":   "code",
    "cxx":   "code",
    "py":    "code",
    "js":    "code",
    "css":   "code",
    "sql":   "code",
    "php":   "code",
    "xml":   "code",
    "json":  "code",
    "jsp":   "code",
    "asp":   "code",
    "sh":    "code",
    "bat":   "code",
    "cmd":   "code",
    "ini":   "code",
    "vbs":   "code",
    "yaml":  "code",
    "swift": "code",
    "scss":  "code",
    "scala": "code",
    "ruby":  "code",
    "r":     "code",
    "jl":    "code",
    "cs":    "code",
    "frm":   "code",
    "less":  "code",
    "go":    "code",
    "txt":   "text",
    "wav":    "audio",
    "mp3":    "audio",
    "ogg":    "audio",
    "aac":    "audio",
    "psd":    "ps",
    "exe":    "app",
    "apk":    "app",
    "ios":    "app",
    "sql":    "db",
    "db":     "db"
};

var FileLangConf = {
	".abap": "abap",
	".aes": "sophia",
	".ascx": "xml",
	".asp": "html",
	".aspx": "html",
	".azcli": "azcli",
	".bash": "shell",
	".bat": "bat",
	".c": "c",
	".cake": "csharp",
	".cc": "cpp",
	".clj": "clojure",
	".cljc": "clojure",
	".cljs": "clojure",
	".cls": "apex",
	".cmd": "bat",
	".coffee": "coffeescript",
	".config": "xml",
	".cpp": "cpp",
	".cpy": "python",
	".cs": "csharp",
	".cshtml": "razor",
	".csproj": "xml",
	".css": "css",
	".csx": "csharp",
	".ctp": "php",
	".cxx": "cpp",
	".dart": "dart",
	".dats": "postiats",
	".dax": "msdax",
	".dockerfile": "dockerfile",
	".dtd": "xml",
	".ecl": "ecl",
	".edn": "clojure",
	".es6": "javascript",
	".fs": "fsharp",
	".fsi": "fsharp",
	".fsscript": "fsharp",
	".fsx": "fsharp",
	".gemspec": "ruby",
	".gitconfig": "ini",
	".go": "go",
	".gql": "graphql",
	".graphql": "graphql",
	".gyp": "python",
	".gypi": "python",
	".h": "c",
	".handlebars": "handlebars",
	".hats": "postiats",
	".hbs": "handlebars",
	".hcl": "hcl",
	".hh": "cpp",
	".hpp": "cpp",
	".htm": "html",
	".html": "html",
	".hxx": "cpp",
	".i3": "m3",
	".iecplc": "st",
	".iecst": "st",
	".ig": "m3",
	".ini": "ini",
	".jade": "pug",
	".jav": "java",
	".java": "java",
	".jl": "julia",
	".js": "javascript",
	".jshtm": "html",
	".jsp": "html",
    ".json": "json",
	".jsx": "javascript",
	".kt": "kotlin",
	".lc3lib": "st",
	".less": "less",
	".lex": "lexon",
	".ligo": "pascaligo",
	".lua": "lua",
	".m": "objective-c",
	".m3": "m3",
	".markdown": "markdown",
	".md": "markdown",
	".mdoc": "html",
	".mdown": "markdown",
	".mdtext": "markdown",
	".mdtxt": "markdown",
	".mdwn": "markdown",
	".mg": "m3",
	".mjs": "javascript",
	".mkd": "markdown",
	".mkdn": "markdown",
	".ml": "fsharp",
	".mli": "fsharp",
	".mligo": "cameligo",
	".msdax": "msdax",
	".opf": "xml",
	".p": "pascal",
	".pas": "pascal",
	".php": "php",
	".php4": "php",
	".php5": "php",
	".phtml": "php",
	".pl": "perl",
	".pp": "ruby",
	".pq": "powerquery",
	".pqm": "powerquery",
	".properties": "ini",
	".ps1": "powershell",
	".psd1": "powershell",
	".psm1": "powershell",
	".pug": "pug",
	".py": "python",
	".pyw": "python",
	".r": "r",
	".rb": "ruby",
	".rbx": "ruby",
	".redis": "redis",
	".rhistory": "r",
	".rjs": "ruby",
	".rkt": "scheme",
	".rlib": "rust",
	".rmd": "r",
	".rprofile": "r",
	".rpy": "python",
	".rs": "rust",
	".rst": "restructuredtext",
	".rt": "r",
	".s": "mips",
	".sats": "postiats",
	".sb": "sb",
	".sbt": "scala",
	".sc": "scala",
	".scala": "scala",
	".sch": "scheme",
	".scm": "scheme",
	".scss": "scss",
	".sh": "shell",
	".shtml": "html",
	".sol": "sol",
	".sql": "sql",
	".ss": "scheme",
	".st": "st",
	".sv": "systemverilog",
	".svg": "xml",
	".svgz": "xml",
	".svh": "systemverilog",
	".swift": "swift",
	".tcl": "tcl",
	".tf": "hcl",
	".tfvars": "hcl",
	".ts": "typescript",
	".tsx": "typescript",
	".twig": "twig",
	".v": "verilog",
	".vb": "vb",
	".vh": "verilog",
	".wxi": "xml",
	".wxl": "xml",
	".wxs": "xml",
	".xaml": "xml",
	".xhtml": "html",
	".xml": "xml",
	".xsl": "xml",
	".yaml": "yaml",
	".yml": "yaml"
};